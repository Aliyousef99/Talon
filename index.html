<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>TALON — Secure Terminal</title>
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@600..900&family=Share+Tech+Mono&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg: #090909;
      --ink:#ff2d2d;
      --ink-soft:#ff4040;
      --ink-deep:#5c0a0a;
      --panel:#0e0e0e;
      --text:#f5f2f2;
      --muted:#bfa9a7;
      --glass: rgba(25,10,10,.55);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; 
      background: var(--bg) url('https://i.vgy.me/UI4yUS.png') center center / 60% no-repeat fixed;
      background-color:#0b0b0b; 
      background-blend-mode: multiply;
      opacity: 0.75; /* initial opacity */
      animation: pulseGlow 7s ease-in-out infinite;
      color:var(--text); font-family:"Share Tech Mono", monospace; overflow:hidden;
      transition: opacity 5s ease-in-out;
    }
    /* Gradual reveal of background (increase opacity by 25%) */
    body.reveal{
      opacity: 1;
      animation: none;
    }
    @keyframes pulseGlow {
      0%, 100% { filter: brightness(0.9) drop-shadow(0 0 15px rgba(255,0,0,0.25)); }
      40%, 60% { filter: brightness(1) drop-shadow(0 0 40px rgba(255,0,0,0.4)); }
    }

    .vignette{position:fixed;inset:0;pointer-events:none;background:radial-gradient(ellipse at center, transparent 40%, rgba(0,0,0,.8) 85%, rgba(0,0,0,1) 100%);transition:opacity 5s ease}
    body.reveal .vignette{opacity:.35}

    #rain{position:fixed;inset:0;z-index:0}
    .wrap{position:relative;display:grid;place-items:center;height:100%;z-index:1}

    .panel{
      width:min(720px,92vw);
      background:var(--glass);
      border:1px solid rgba(255,60,60,.35);
      border-radius:16px;
      backdrop-filter:blur(10px);
      box-shadow:0 0 45px -10px rgba(255,0,0,.5), 0 0 160px -50px rgba(255,0,0,.35), inset 0 0 30px rgba(255,0,0,.08);
      transform-origin:center center;
    }
    @keyframes tvOff {
      0%   { transform:scale(1,1); opacity:1; filter:none; }
      60%  { transform:scale(1,0.03); opacity:1; filter:brightness(2); }
      80%  { transform:scale(0.06,0.03); opacity:.85; filter:brightness(2.2) contrast(1.2); }
      100% { transform:scale(0,0); opacity:0; filter:brightness(0.5); }
    }
    .panel.tv-off{ animation: tvOff 1.2s ease-in forwards; }

    .brand{position:relative;margin:0 0 8px;text-align:center;font-family:"Cinzel", serif;font-weight:900;letter-spacing:.18em;font-size:96px;line-height:1;color:#fff;text-shadow:0 0 10px var(--ink-soft),0 0 30px var(--ink),0 0 70px var(--ink-deep);}
    .subtitle{text-align:center;color:var(--muted);letter-spacing:.35em;margin:0 0 20px 0;text-transform:uppercase;}
    .shell{padding:26px 28px 22px}
    label{display:block;font-size:12px;letter-spacing:.24em;margin:6px 0 8px;color:#caa;text-transform:uppercase;}
    .input{position:relative}
    input[type="password"]{width:100%;padding:16px 18px;font:600 18px/1 "Share Tech Mono", monospace;letter-spacing:.12em;color:var(--text);background:rgba(15,8,8,.85);border:1px solid rgba(231,74,74,.25);border-radius:10px;outline:none;transition:all .2s ease;}
    input[type="password"]:focus{border-color:var(--ink-soft);box-shadow:0 0 25px rgba(231,74,74,.7);}
    .actions{display:flex;gap:12px;justify-content:flex-end;margin-top:14px}

    button{
      cursor:pointer; position:relative; padding:14px 32px;
      font:700 14px/1 "Share Tech Mono", monospace; letter-spacing:.25em; text-transform:uppercase; color:#fff;
      background:transparent; border:1px solid #ff2d2d; border-radius:0; overflow:hidden; transition:all 0.3s ease; isolation:isolate;
    }
    button::before{content:"";position:absolute;inset:0;background:linear-gradient(90deg, transparent 0%, rgba(255,0,0,0.3) 50%, transparent 100%);opacity:0;transform:translateX(-100%);transition:transform .4s ease, opacity .4s ease;z-index:-1}
    button:hover::before{transform:translateX(100%);opacity:1}
    button::after{content:"";position:absolute;inset:0;border:1px solid rgba(255,0,0,.6);box-shadow:inset 0 0 10px rgba(255,0,0,.5),0 0 15px rgba(255,0,0,.6);opacity:0;transition:opacity .3s ease}
    button:hover::after{opacity:1}
    button:hover{color:#ff2d2d;text-shadow:0 0 8px rgba(255,0,0,.8);box-shadow:0 0 25px rgba(255,0,0,.4);transform:scale(1.02)}
    button:active{background:rgba(255,0,0,.1);box-shadow:0 0 10px rgba(255,0,0,.8) inset;transform:scale(0.98)}

    .status{margin-top:8px;color:#caa;font-size:12px;opacity:.9;text-transform:uppercase;letter-spacing:.15em;}

    #blackout{position:fixed;inset:0;background:#000;opacity:0;pointer-events:none;transition:opacity .9s ease;z-index:999}
    body.blackout #blackout{opacity:1}
  </style>
</head>
<body>
  <canvas id="rain"></canvas>
  <div class="vignette"></div>
  <div id="blackout"></div>
  <main class="wrap">
    <section class="panel" role="form" aria-labelledby="title">
      <div class="shell">
        <h1 class="brand" id="title"><span class="core">TALON</span></h1>
        <p class="subtitle">SECURE TERMINAL // ACCESS REQUIRED</p>
        <div>
          <label for="pw">ENTER PASSCODE</label>
          <div class="input"><input id="pw" type="password" placeholder="────────" autocomplete="off" spellcheck="false" /></div>
          <div class="actions"><button id="enter">ENTER</button></div>
          <div class="status" id="status">AWAITING CREDENTIALS…</div>
        </div>
      </div>
    </section>
  </main>
  <script>
    const c = document.getElementById('rain');
    const ctx = c.getContext('2d');
    let w, h, drops = [], stopRain = false;
    const COLS = 140;
    const speedMin = 2, speedMax = 6;
    function resize(){
      w = c.width = innerWidth; h = c.height = innerHeight;
      const colW = Math.ceil(w / COLS);
      drops = Array(COLS).fill(0).map((_,i)=>({x:i*colW+(Math.random()*colW|0),y:Math.random()*h,v:speedMin+Math.random()*(speedMax-speedMin),len:20+Math.random()*80}));
    }
    addEventListener('resize', resize); resize();
    function tick(){
      if(stopRain) return;
      ctx.clearRect(0,0,w,h);
      for(const d of drops){
        const grad = ctx.createLinearGradient(d.x, d.y-d.len, d.x, d.y);
        grad.addColorStop(0,'rgba(80,0,0,0)');
        grad.addColorStop(.7,'rgba(160,40,40,.25)');
        grad.addColorStop(1,'rgba(231,74,74,.85)');
        ctx.strokeStyle=grad;ctx.lineWidth=2;ctx.beginPath();ctx.moveTo(d.x,d.y-d.len);ctx.lineTo(d.x,d.y);ctx.stroke();
        d.y+=d.v;if(d.y-d.len>h){d.y=-10-Math.random()*100;d.v=speedMin+Math.random()*(speedMax-speedMin);d.len=20+Math.random()*80;}
      }
      requestAnimationFrame(tick);
    }
    tick();

    const pw = document.getElementById('pw');
    const status = document.getElementById('status');
    const enterBtn = document.getElementById('enter');
    const panel = document.querySelector('.panel');
  let incorrectAttempts = 0;
    enterBtn.addEventListener('click', go);
    pw.addEventListener('keydown', e=>{ if(e.key==='Enter') go();});

    function go(){
      const ok = (pw.value||'').trim() === 'DYNASTY';
      status.textContent = ok ? 'ACCESS GRANTED — INITIALIZING SESSION…' : 'ACCESS DENIED — BREACH LOGGED.';
      status.style.color = ok ? '#ffb0b0' : '#ff6b6b';
      if(!ok) {
        incorrectAttempts++;
        if (incorrectAttempts >= 3) {
          window.location.href = 'talon-fail.html';
        }
        pw.value = '';
        return;
      }
 
      incorrectAttempts = 0;
      pw.disabled = true; enterBtn.disabled = true; enterBtn.style.opacity = .6;

      setTimeout(()=>{
        panel.classList.add('tv-off');
      }, 2000);

      setTimeout(()=>{ document.body.classList.add('reveal'); }, 2000 + 1200);

      setTimeout(()=>{
        document.body.classList.add('blackout');
        stopRain = true;
        ctx.clearRect(0,0,w,h);
      }, 2000 + 1200 + 5000);

      setTimeout(()=>{
        window.location.href = 'talon-success.html';
      }, 2000 + 1200 + 5000 + 1000);
    }
  </script>
</body>
</html>
